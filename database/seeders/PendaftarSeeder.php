<?php

namespace Database\Seeders;

use App\Models\User;
use Illuminate\Database\Seeder;
use Illuminate\Database\Console\Seeds\WithoutModelEvents;

class PendaftarSeeder extends Seeder
{
    /**
     * Run the database seeds.
     *
     * @return void
     */
    public function run()
    {

        $pendaftaran = [
            [
                'kode_daftar' => 'A0001',
                'tanggal_daftar' => date('Y-m-d'),
                'tahun' => '2023 / 2024',
                'tingkat' => '7',
                'user_id' => 1,
                'provinsi' => 33,
                'kabupaten' => 3324,
                'kecamatan' => 332419,
                'desa' => 3324192005
            ],
            [
                'kode_daftar' => 'A0002',
                'tanggal_daftar' => date('Y-m-d'),
                'tahun' => '2023 / 2024',
                'tingkat' => '7',
                'user_id' => 1,
                'provinsi' => 33,
                'kabupaten' => 3324,
                'kecamatan' => 332419,
                'desa' => 3324192005
            ],
            [
                'kode_daftar' => 'A0003',
                'tanggal_daftar' => date('Y-m-d'),
                'tahun' => '2023 / 2024',
                'tingkat' => '7',
                'user_id' => 1,
                'provinsi' => 33,
                'kabupaten' => 3324,
                'kecamatan' => 332419,
                'desa' => 3324192005
            ],
            [
                'kode_daftar' => 'A0004',
                'tanggal_daftar' => date('Y-m-d'),
                'tahun' => '2023 / 2024',
                'tingkat' => '7',
                'user_id' => 1,
                'provinsi' => 33,
                'kabupaten' => 3324,
                'kecamatan' => 332419,
                'desa' => 3324192005
            ],
            [
                'kode_daftar' => 'A0005',
                'tanggal_daftar' => date('Y-m-d'),
                'tahun' => '2023 / 2024',
                'tingkat' => '7',
                'user_id' => 1,
                'provinsi' => 33,
                'kabupaten' => 3324,
                'kecamatan' => 332419,
                'desa' => 3324192005
            ],
            [
                'kode_daftar' => 'B0001',
                'tanggal_daftar' => date('Y-m-d'),
                'tahun' => '2023 / 2024',
                'tingkat' => '7',
                'user_id' => 2,
                'provinsi' => 33,
                'kabupaten' => 3324,
                'kecamatan' => 332419,
                'desa' => 3324192005
            ],
            [
                'kode_daftar' => 'B0002',
                'tanggal_daftar' => date('Y-m-d'),
                'tahun' => '2023 / 2024',
                'tingkat' => '7',
                'user_id' => 2,
                'provinsi' => 33,
                'kabupaten' => 3324,
                'kecamatan' => 332419,
                'desa' => 3324192005
            ],
            [
                'kode_daftar' => 'B0003',
                'tanggal_daftar' => date('Y-m-d'),
                'tahun' => '2023 / 2024',
                'tingkat' => '7',
                'user_id' => 2,
                'provinsi' => 33,
                'kabupaten' => 3324,
                'kecamatan' => 332419,
                'desa' => 3324192005
            ],
            [
                'kode_daftar' => 'B0004',
                'tanggal_daftar' => date('Y-m-d'),
                'tahun' => '2023 / 2024',
                'tingkat' => '7',
                'user_id' => 2,
                'provinsi' => 33,
                'kabupaten' => 3324,
                'kecamatan' => 332419,
                'desa' => 3324192005
            ],
            [
                'kode_daftar' => 'B0005',
                'tanggal_daftar' => date('Y-m-d'),
                'tahun' => '2023 / 2024',
                'tingkat' => '7',
                'user_id' => 2,
                'provinsi' => 33,
                'kabupaten' => 3324,
                'kecamatan' => 332419,
                'desa' => 3324192005
            ],
            [
                'kode_daftar' => 'C0001',
                'tanggal_daftar' => date('Y-m-d'),
                'tahun' => '2023 / 2024',
                'tingkat' => '8',
                'user_id' => 2,
                'provinsi' => 33,
                'kabupaten' => 3324,
                'kecamatan' => 332419,
                'desa' => 3324192005
            ],
            [
                'kode_daftar' => 'C0002',
                'tanggal_daftar' => date('Y-m-d'),
                'tahun' => '2023 / 2024',
                'tingkat' => '8',
                'user_id' => 2,
                'provinsi' => 33,
                'kabupaten' => 3324,
                'kecamatan' => 332419,
                'desa' => 3324192005
            ],
            [
                'kode_daftar' => 'C0003',
                'tanggal_daftar' => date('Y-m-d'),
                'tahun' => '2023 / 2024',
                'tingkat' => '8',
                'user_id' => 2,
                'provinsi' => 33,
                'kabupaten' => 3324,
                'kecamatan' => 332419,
                'desa' => 3324192005
            ],
            [
                'kode_daftar' => 'C0004',
                'tanggal_daftar' => date('Y-m-d'),
                'tahun' => '2023 / 2024',
                'tingkat' => '9',
                'user_id' => 2,
                'provinsi' => 33,
                'kabupaten' => 3324,
                'kecamatan' => 332419,
                'desa' => 3324192005
            ],
            [
                'kode_daftar' => 'C0005',
                'tanggal_daftar' => date('Y-m-d'),
                'tahun' => '2023 / 2024',
                'tingkat' => '9',
                'user_id' => 2,
                'provinsi' => 33,
                'kabupaten' => 3324,
                'kecamatan' => 332419,
                'desa' => 3324192005
            ],
            [
                'kode_daftar' => 'D0001',
                'tanggal_daftar' => date('Y-m-d'),
                'tahun' => '2023 / 2024',
                'tingkat' => '8',
                'user_id' => 2,
                'provinsi' => 33,
                'kabupaten' => 3324,
                'kecamatan' => 332419,
                'desa' => 3324192005
            ],
            [
                'kode_daftar' => 'D0002',
                'tanggal_daftar' => date('Y-m-d'),
                'tahun' => '2023 / 2024',
                'tingkat' => '8',
                'user_id' => 2,
                'provinsi' => 33,
                'kabupaten' => 3324,
                'kecamatan' => 332419,
                'desa' => 3324192005
            ],
            [
                'kode_daftar' => 'D0003',
                'tanggal_daftar' => date('Y-m-d'),
                'tahun' => '2023 / 2024',
                'tingkat' => '8',
                'user_id' => 2,
                'provinsi' => 33,
                'kabupaten' => 3324,
                'kecamatan' => 332419,
                'desa' => 3324192005
            ],
            [
                'kode_daftar' => 'D0004',
                'tanggal_daftar' => date('Y-m-d'),
                'tahun' => '2023 / 2024',
                'tingkat' => '9',
                'user_id' => 2,
                'provinsi' => 33,
                'kabupaten' => 3324,
                'kecamatan' => 332419,
                'desa' => 3324192005
            ],
            [
                'kode_daftar' => 'D0005',
                'tanggal_daftar' => date('Y-m-d'),
                'tahun' => '2023 / 2024',
                'tingkat' => '9',
                'user_id' => 2,
                'provinsi' => 33,
                'kabupaten' => 3324,
                'kecamatan' => 332419,
                'desa' => 3324192005
            ],
        ];

        foreach ($pendaftaran as $pendaftar) {
            $user = User::create([
                'name' => fake()->name(),
                'kode_daftar' => $pendaftar['kode_daftar'],
                'username' => $pendaftar['kode_daftar'],
                'user_id' => $pendaftar['user_id'],
                'password' => bcrypt('12345678'),
                'tanggal_daftar' => $pendaftar['tanggal_daftar'],
            ]);


            $user->assignRole('Calon Siswa');

            $user->alamat()->create([
                'provinsi' => $pendaftar['provinsi'],
                'kabupaten' => $pendaftar['kabupaten'],
                'kecamatan' => $pendaftar['kecamatan'],
                'desa' => $pendaftar['desa'],
            ]);

            $user->sekolahSd()->create([
                'nama' => 'Sekolah SD siswa',
                'provinsi' => $pendaftar['provinsi'],
                'kabupaten' => $pendaftar['kabupaten'],
                'kecamatan' => $pendaftar['kecamatan'],
                'desa' => $pendaftar['desa'],
            ]);

            $user->sekolahAsal()->create([
                'nama' => 'Sekolah Asal Pindahan siswa',
                'provinsi' => $pendaftar['provinsi'],
                'kabupaten' => $pendaftar['kabupaten'],
                'kecamatan' => $pendaftar['kecamatan'],
                'desa' => $pendaftar['desa'],
            ]);
        }
    }
}
